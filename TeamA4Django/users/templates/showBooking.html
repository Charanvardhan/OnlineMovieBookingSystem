{% load static %}{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
    <head>
        
    <meta charset="utf-8" />
        
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

        
    <title>SINABOOK | Order Summary</title>
        
    <meta content="" name="description" />
        
    <meta content="" name="keywords" />

        
    <!-- Favicons -->
        
    <link href="{% static 'assets/img/ticketLogo1.png' %}" rel="icon" />
        
    <link
      href="{% static 'assets/img/apple-touch-icon.png' %}"
      rel="apple-touch-icon"
    />

        
    <!-- Google Fonts -->
        
    <link rel="preconnect" href="https://fonts.googleapis.com" />
        
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap"
      rel="stylesheet"
    />
        
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />
        
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />

        
    <!-- Vendor CSS Files -->
        
    <link
      href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}"
      rel="stylesheet"
    />
        
    <link
      href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}"
      rel="stylesheet"
    />
        
    <link
      href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}"
      rel="stylesheet"
    />
        
    <link
      href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}"
      rel="stylesheet"
    />
        
    <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet" />

        
    <!-- Template Main CSS File -->
        
    <link href="{% static 'assets/css/main.css' %}" rel="stylesheet" />
        
    <link href="{% static 'assets/css/custom.css' %}" rel="stylesheet" />
        
    <!-- =======================================================
  * Template Name: PhotoFolio
  * Updated: Jan 29 2024 with Bootstrap v5.3.2
  * Template URL: https:/bootstrapmade.com/photofolio-bootstrap-photography-website-template/
  * Author: BootstrapMade.com
  * License: https:/bootstrapmade.com/license/
  ======================================================== -->
      
  </head>

    
  <body>
        <!-- ======= Header ======= -->
        
    <header id="header" class="header d-flex align-items-center fixed-top">
      <div
        class="nav-container d-flex align-items-center justify-content-between"
      >
        <a href="/" class="logo d-flex align-items-center me-auto me-lg-0">
          <!-- Uncomment the line below if you also wish to use an image logo -->
          <!-- <img src="assets/img/logo.png'%}" alt=""> -->
          <!-- <i class="bi bi-camera"></i> -->
          <img src="{% static 'assets/img/ticketLogo1.png'%}" alt="" />
          <h1>SINABOOK</h1>
        </a>

        <nav id="navbar" class="navbar">
          <ul>
            <li><a href="/" class="active">Home</a></li>
            <!-- Uncomment and update href attributes as needed for other links -->
            <!-- <li><a href="/about/">About</a></li> -->

            {% if request.user.is_authenticated %}
            <!-- Displayed only if user is logged in -->
            <li><a href="{% url 'logout' %}">Log out</a></li>
            <li><a href="{% url 'profile' %}">Profile</a></li>
            <li><a href="{% url 'change_password' %}">Change Password</a></li>

            {% else %}
            <!-- Displayed only if user is not logged in -->
            <li><a href="{% url 'login' %}">Log in</a></li>
            <a href="{% url 'createAccount' %}"> Create Account</a>
            {% endif %}
            <!-- Add more links as needed -->
          </ul>
        </nav>

        <!-- <div class="header-social-links">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
         -->
        <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
        <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>
      </div>
    </header>
        <!-- End Header -->

        
    <main id="main" data-aos="fade" data-aos-delay="1500">
            <!-- ======= End Page Header ======= -->
            
      <div class="page-header d-flex align-items-center">
                
        <div class="container position-relative">
                    
          <div class="row d-flex justify-content-center">
                        
            <h2>Order Summary</h2>
                        
            <div class="col-lg-6 text-center">
                            <!-- <p>
                Odio et unde deleniti. Deserunt numquam exercitationem. Officiis
                quo odio sint voluptas consequatur ut a odio voluptatem. Sit
                dolorum debitis veritatis natus dolores. Quasi ratione sint. Sit
                quaerat ipsum dolorem.
              </p> -->
                          
            </div>
                      
          </div>
                  
        </div>
              
      </div>
            <!-- End Page Header -->

            <!-- ======= Payment Section ======= -->

      <section id="contact" class="contact">
        <div class="container">
          <div class="row gy-4 justify-content-center"></div>
          <h2>Showtime:</h2>
          <p>Want to change your showtime?</p>
          <select id="showtime">
            <option value="0">Select here</option>
            {% for show in shows %}
            <option value="{{ show.show_id }}">
              {{ show.dates }} - {{ show.start_time }}
            </option>
            {% endfor %}
          </select>

                
          <h3>Select seats:</h3>
                               
          <div class="seatsContainer">


             <div class="row">


            <ul class="showcase">
                          
              <li>
                              
                <div class="seat"></div>
                <small>Available</small>             
              </li>
                          
              <li>
                              
                <div class="seat selected"></div>
                <small>Selected</small>             
              </li>
                          
              <li>
                              
                <div class="seat occupied"></div>
                <small>Occupied</small>             
              </li>
                        
            </ul>
                        
            <div class="screen"></div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                          
            </div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                          
            </div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat occupied"></div>
                          
            </div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                          
            </div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                          
            </div>
                        
            <div class="row">
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat occupied"></div>
                            
              <div class="seat"></div>
                          
            </div>


            
                        
            <p class="text">
              You have selected <span id="count">0</span> seats for the total
              price of $<span id="total">0</span>          
            </p>
                      
          </div>
          <br />
                    
          <h2>Ticket Price:</h2>
                    
          <p>Adult: $12.00</p>
          <p>Child: $8.00</p>
          <p>Senior: $12.00</p>
                    
          <form method="post" action="">
            {% csrf_token %}
           

            <div class="form-group">
                <label for="{{ form.adult_tickets.id_for_label }}">Adult Tickets:</label>
                {{ form.adult_tickets }}
                {% if form.adult_tickets.errors %}
                    <div class="error">{{ form.adult_tickets.errors }}</div>
                {% endif %}
            </div>

    <div class="form-group mt-3">
        <p>Adult Ticket:</p>

        {{ form.adult_tickets }}
        {% if form.adult_tickets.errors %}
       
        <div class="error">{{ form.adult_tickets.errors|striptags }}</div>
        {% endif %}
      </div>


    <div class="form-group mt-3">
        <p>Senior Ticket:</p>
        {{ form.senior_tickets|add_class:"form-control" }}
        {% if form.senior_tickets.errors %}
        <div class="error">{{ form.senior_tickets.errors|striptags }}</div>
        {% endif %}
      </div>

      <div class="form-group mt-3">
        <p>Child Ticket:</p>
        {{ form.child_tickets|add_class:"form-control" }} {% if form.child_tickets.errors %}
        <div class="error">{{ form.child_tickets.errors|striptags }}</div>
        {% endif %}
      </div>

    <button type="submit" class="btn btn-primary">Purchase Tickets</button>
</form>
             
        </form>
        

          <h2>Ticket Types:</h2>
            <div class="ticket-types">
            <div>
                <label for="adultCount">Adult Tickets:</label>
                <button onclick="adecrement('adultCount')">-</button>
                <input class="plusMinus" id="adultCount" type="number" min="0" max="100" value="0">
                <button onclick="aincrement('adultCount')">+</button>   
                $12.00 each
            </div>
            <div>
                <label for="seniorCount">Senior Tickets:</label>
                <button onclick="sdecrement('seniorCount')">-</button>
                <input class="plusMinus" id="seniorCount" type="number" min="0" max="100" value="0">
                <button onclick="sincrement('seniorCount')">+</button>
                $10.00 each
            </div>
            <div>
                <label for="childCount">Child Tickets:</label>
                <button onclick="cdecrement('childCount')">-</button>
                <input class="plusMinus" id="childCount" type="number" min="0" max="100" value="0">
                <button onclick="cincrement('childCount')">+</button>
                $8.00 each
            </div>
        </div>     
        
          <h2>Seat reservation(s):</h2>
               
          <p class="orderSummarytext">
            You have selected
            <span id="countDisplay">0</span> seats.           
          </p>
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="promotions">Add Promotions:</label>
              <input type="text" class="form-control" id="promotions" name="promotions" placeholder="Enter promotion code">
            </div>
          </div>
                    
          <script>
            function increment() {
              var countElement = document.getElementById("seatCount");
              var count = parseInt(countElement.value, 10);
              countElement.value = count + 1;
              updateDisplay();
            }
            function aincrement() {
              var countElement = document.getElementById("adultCount");
              var count = parseInt(countElement.value, 10);
              countElement.value = count + 1;
              updateDisplay();
            }
            function cincrement() {
              var countElement = document.getElementById("childCount");
              var count = parseInt(countElement.value, 10);
              countElement.value = count + 1;
              updateDisplay();
            }
            function sincrement() {
              var countElement = document.getElementById("seniorCount");
              var count = parseInt(countElement.value, 10);
              countElement.value = count + 1;
              updateDisplay();
            }
            function decrement() {
              var countElement = document.getElementById("seatCount");
              var count = parseInt(countElement.value, 10);
              if (count > 0) {
                // Prevents negative values
                countElement.value = count - 1;
              }
              updateDisplay();
            }
            function adecrement() {
              var countElement = document.getElementById("adultCount");
              var count = parseInt(countElement.value, 10);
              if (count > 0) {
                // Prevents negative values
                countElement.value = count - 1;
              }
              updateDisplay();
            }
            function sdecrement() {
              var countElement = document.getElementById("seniorCount");
              var count = parseInt(countElement.value, 10);
              if (count > 0) {
                // Prevents negative values
                countElement.value = count - 1;
              }
              updateDisplay();
            }
            function cdecrement() {
              var countElement = document.getElementById("childCount");
              var count = parseInt(countElement.value, 10);
              if (count > 0) {
                // Prevents negative values
                countElement.value = count - 1;
              }
              updateDisplay();
            }

            function updateDisplay() {
                var adultCount = parseInt(document.getElementById('adultCount').value, 10) || 0;
                var seniorCount = parseInt(document.getElementById('seniorCount').value, 10) || 0;
                var childCount = parseInt(document.getElementById('childCount').value, 10) || 0;

                var totalTickets = adultCount + seniorCount + childCount;
              document.getElementById('seatCount').value = totalTickets; // Syncs the 'seatCount' input with the tota
              document.getElementById('countDisplay').innerText =totalTickets;
              calculateTotal(adultCount, seniorCount, childCount);
            }

            function calculateTotal(adultCount, seniorCount, childCount) {
              var adultPrice = 12; // Price per adult ticket
              var seniorPrice = 10; // Price per senior ticket
              var childPrice = 8;  // Price per child ticket
            
              var totalPrice = (adultCount * adultPrice) + (seniorCount * seniorPrice) + (childCount * childPrice);
              document.getElementById('total').innerText = totalPrice.toFixed(2);
            }

            document.addEventListener("DOMContentLoaded", function () {
              updateDisplay(); // To reflect any default value or changes on reload
            });
          </script>
                    <!-- <p>15A, 15B, 15C</p> -->
    
                    <br />
                    <br />
                    
          <hr />
               
          <h2>Total:</h2>
            
          </p>
          <p class="orderSummarytext">$<span id="total">0</span></p>
                    
          <hr />
                    <a href="checkout.html" class="btn-get-started"
            >Continue to Checkout</a
          >
          {% if user.creditcard_set.exists %}
            <h2>Payment Options</h2>
            <form action="{% url 'process_payment' %}" method="post">
              {% csrf_token %}
              <label for="credit_card">Select Credit Card:</label>
              <select name="credit_card" id="credit_card">
                {% for credit_card in user.userprofile.creditcard_set.all %}
                  <option value="{{ credit_card.id }}">{{ credit_card.card_number }}</option>
                {% endfor %}
              </select>
              <button type="submit">Pay with Saved Card</button>
            </form>
          {% endif %}
                    <!-- End Contact Form -->
                  
        </div>
              
      </section>
            <!-- End Contact Section -->
          
    </main>
        <!-- End #main -->

        <!-- ======= Footer ======= -->
        
    <footer id="footer" class="footer">
            
      <div class="container">
                
        <div class="copyright">
                    &copy; Copyright <strong><span>PhotoFolio</span></strong
          >. All Rights Reserved         
        </div>
                
        <div class="credits">
                    <!-- All the links in the footer should remain intact. -->
                    <!-- You can delete the links only if you purchased the pro version. -->
                    <!-- Licensing information: https:/bootstrapmade.com/license/ -->
                    <!-- Purchase the pro version with working PHP/AJAX contact form: https:/bootstrapmade.com/photofolio-bootstrap-photography-website-template/ -->
                    Designed by
          <a href="https:/bootstrapmade.com/">BootstrapMade</a>         
        </div>
              
      </div>
          
    </footer>
        <!-- End Footer -->

        <a
      href="#"
      class="scroll-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

        
    <div id="preloader">
            
      <div class="line"></div>
          
    </div>

        <!-- Vendor JS Files -->
        
    <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
        
    <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
        
    <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
        
    <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
        
    <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

        <!-- Template Main JS File -->
        
    <script src="{% static 'assets/js/main.js' %}"></script>

      
  </body>
</html>
